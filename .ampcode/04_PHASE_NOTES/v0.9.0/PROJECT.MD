# â­ COMPLETE DOCUMENTATION PACKAGE â€” v0.9.0 + v1.0.0

---

# ğŸ“¦ PART 1: v0.9.0 DOCUMENTATION

---

# ğŸ“‹ 1. OVERVIEW â€” v0.9.0

## **v0.9.0 â€” Video Upload Feature (Replaces Broken Phase 17)**

### **Purpose**
v0.9.0 delivers **video upload functionality to the Web UI**, building on the stable Phase 16 async job system. This is a **focused, single-feature release** that replaces the broken Phase 17 delivery.

### **What Came Before**

| Version | Name | Status | Summary |
|---------|------|--------|---------|
| v0.8.0 | Phase 15 | âœ… Stable | Synchronous batch video processing (YOLO + OCR pipeline) |
| v0.8.1 | Phase 16 | âœ… Stable | Async job system (queue, workers, persistence, object storage) |
| âŒ Phase 17 | Phase 17 | âŒ Rejected | Broken delivery with regressions, experimental code, architectural drift |

### **What Phase 17 Did Wrong**
- âŒ Removed plugin selector from UI
- âŒ Removed tool selector from UI  
- âŒ Removed image upload from UI
- âŒ Introduced experimental streaming code
- âŒ Broke Gemini-CLI MCP extension
- âŒ Introduced architectural drift
- âŒ Broke UI â†’ backend contract

### **What v0.9.0 Delivers**
v0.9.0 is a **clean, focused delivery** that adds **one feature only**:

âœ… **Video Upload to Web UI**
- User can upload MP4 video via Web UI
- Video is submitted to `/v1/video/submit` (Phase 16 endpoint)
- Job ID is returned and displayed
- User can check status via `/v1/video/status/{job_id}`
- User can retrieve results via `/v1/video/results/{job_id}`
- Full integration with Phase 16 async job system
- Full integration with Phase 15 video processing pipeline

### **What v0.9.0 Does NOT Change**
- âœ… Plugin selector remains intact
- âœ… Tool selector remains intact
- âœ… Image upload remains intact
- âœ… Phase 15 video pipeline unchanged
- âœ… Phase 16 async job system unchanged
- âœ… No experimental code added
- âœ… No architectural changes
- âœ… No breaking changes

### **Key Principle**
> **v0.9.0 = One Feature. Zero Regressions. Zero Drift.**

---

# ğŸ—ï¸ 2. HIGH-LEVEL DESIGN (HLD) â€” v0.9.0

## **System Architecture (v0.9.0)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        WEB UI (NEW)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  EXISTING (Unchanged)          NEW (v0.9.0)                  â”‚
â”‚  - Plugin Selector             - Video Upload Form           â”‚
â”‚  - Tool Selector               - Job ID Display              â”‚
â”‚  - Image Upload                - Job Status Display          â”‚
â”‚  - Pipeline Selection          - Job Results Display         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API LAYER (Unchanged)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  /v1/image/analyze            (existing)                     â”‚
â”‚  /v1/video/submit             (Phase 16 - existing)          â”‚
â”‚  /v1/video/status/{job_id}    (Phase 16 - existing)          â”‚
â”‚  /v1/video/results/{job_id}   (Phase 16 - existing)          â”‚
â”‚  /v1/plugins                  (existing)                     â”‚
â”‚  /v1/pipelines                (existing)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BUSINESS LOGIC LAYER (Unchanged)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Job Manager (Phase 16)       Pipeline Registry              â”‚
â”‚  - Job Creation               - Phase 15 Video               â”‚
â”‚  - Status Tracking            - Image Pipelines              â”‚
â”‚  - Result Storage             - Tool Mapping                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               EXECUTION LAYER (Unchanged)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Worker Process (Phase 16)    VideoFilePipelineService       â”‚
â”‚  - Dequeue Jobs               (Phase 15)                     â”‚
â”‚  - Execute Phase 15 Pipeline  - Frame Extraction             â”‚
â”‚  - Save Results               - YOLO Detection               â”‚
â”‚  - Update Status              - OCR Processing               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               PERSISTENCE LAYER (Unchanged)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Database (Phase 16)          Object Storage (Phase 16)      â”‚
â”‚  - Job State                  - Video Files                  â”‚
â”‚  - Job Results                - Image Files                  â”‚
â”‚                                                               â”‚
â”‚  Queue (Phase 16)                                            â”‚
â”‚  - Job Queue (Redis/In-Memory)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## **What's New in v0.9.0**

### **1. Video Upload UI Component**
- **Location:** `/web-ui/components/VideoUpload.tsx`
- **Responsibilities:**
  - Display file upload form
  - Validate MP4 format
  - Submit video to `/v1/video/submit`
  - Display returned job_id
  - Poll `/v1/video/status/{job_id}` for status updates
  - Display results from `/v1/video/results/{job_id}` when complete

### **2. Job Status Display Component**
- **Location:** `/web-ui/components/JobStatus.tsx`
- **Responsibilities:**
  - Display current job status (pending, running, completed, failed)
  - Display progress percentage
  - Display error messages if failed
  - Auto-refresh status until job completes

### **3. Job Results Display Component**
- **Location:** `/web-ui/components/JobResults.tsx`
- **Responsibilities:**
  - Display YOLO detection results
  - Display OCR text results
  - Display frame-by-frame analysis
  - Display video metadata

## **Data Flow (v0.9.0 Video Upload)**

```
User â†’ Web UI Video Upload Form
  â†’ Select MP4 file
  â†’ Click "Upload"
  â†’ POST /v1/video/submit (multipart/form-data)
    â†’ Phase 16 Job Manager
      â†’ Validate MP4
      â†’ Save to Object Storage
      â†’ Create Job Row in DB (status: pending)
      â†’ Enqueue job_id
      â†’ Return job_id
  â†’ Web UI displays job_id
  â†’ Web UI polls GET /v1/video/status/{job_id}
    â†’ Returns: { status: "running", progress: 45 }
  â†’ Worker Process (Phase 16)
    â†’ Dequeue job_id
    â†’ Download MP4 from Object Storage
    â†’ Execute Phase 15 VideoFilePipelineService
      â†’ Extract frames
      â†’ Run YOLO
      â†’ Run OCR
      â†’ Assemble results
    â†’ Save results to DB
    â†’ Update job status to "completed"
  â†’ Web UI polls GET /v1/video/status/{job_id}
    â†’ Returns: { status: "completed" }
  â†’ Web UI calls GET /v1/video/results/{job_id}
    â†’ Returns: { detections: [...], ocr: [...], frames: [...] }
  â†’ Web UI displays results
```

---

# ğŸ“ 3. FUNCTIONAL REQUIREMENTS â€” v0.9.0

## **FR-1: Video Upload Form**
**Description:** Web UI must display a video upload form.

**Acceptance Criteria:**
- âœ… Form accepts MP4 files
- âœ… Form validates file format client-side
- âœ… Form displays upload progress
- âœ… Form handles upload errors gracefully

---

## **FR-2: Video Submission**
**Description:** Web UI must submit video to `/v1/video/submit`.

**Acceptance Criteria:**
- âœ… Video is sent as multipart/form-data
- âœ… Request includes any selected pipeline_id
- âœ… Response includes job_id
- âœ… job_id is displayed to user

---

## **FR-3: Job Status Display**
**Description:** Web UI must display job status.

**Acceptance Criteria:**
- âœ… Status is polled every 2 seconds
- âœ… Status shows: pending, running, completed, failed
- âœ… Progress percentage is displayed
- âœ… Polling stops when job completes or fails

---

## **FR-4: Job Results Display**
**Description:** Web UI must display job results when complete.

**Acceptance Criteria:**
- âœ… Results include YOLO detections
- âœ… Results include OCR text
- âœ… Results include frame-by-frame data
- âœ… Results are formatted for readability

---

## **FR-5: Error Handling**
**Description:** Web UI must handle all error cases.

**Acceptance Criteria:**
- âœ… Invalid file format shows error message
- âœ… Upload failure shows error message
- âœ… Job failure shows error message
- âœ… Network errors show error message

---

## **FR-6: No Breaking Changes**
**Description:** Existing UI functionality must remain intact.

**Acceptance Criteria:**
- âœ… Plugin selector still works
- âœ… Tool selector still works
- âœ… Image upload still works
- âœ… All existing tests pass

---

# ğŸ“ 4. NON-FUNCTIONAL REQUIREMENTS â€” v0.9.0

## **NFR-1: Backward Compatibility**
**Description:** v0.9.0 must not break any existing functionality.

**Acceptance Criteria:**
- âœ… All Phase 15 tests pass
- âœ… All Phase 16 tests pass
- âœ… Image upload still works
- âœ… Plugin/tool selection still works

---

## **NFR-2: Performance**
**Description:** Video upload must not degrade system performance.

**Acceptance Criteria:**
- âœ… Upload progress is smooth
- âœ… Status polling does not overload server
- âœ… Worker processes videos at Phase 15 speed
- âœ… UI remains responsive during upload

---

## **NFR-3: User Experience**
**Description:** Video upload flow must be intuitive.

**Acceptance Criteria:**
- âœ… Upload form is easy to use
- âœ… Status updates are clear
- âœ… Results are easy to read
- âœ… Errors are user-friendly

---

## **NFR-4: Code Quality**
**Description:** New code must follow project patterns.

**Acceptance Criteria:**
- âœ… Component structure matches existing patterns
- âœ… API calls use existing service layer
- âœ… Naming conventions are consistent
- âœ… No duplicate code

---

## **NFR-5: Test Coverage**
**Description:** All new functionality must be tested.

**Acceptance Criteria:**
- âœ… Unit tests for new components
- âœ… Integration tests for upload flow
- âœ… Integration tests for status polling
- âœ… Integration tests for results display

---

# ğŸ‘¤ 5. USER STORIES â€” v0.9.0

## **US-1: Upload Video for Processing**
**As a user**  
I want to upload a video file via the Web UI  
So that I can process it with the video analysis pipeline.

**Acceptance Criteria:**
- âœ… I can select an MP4 file
- âœ… I can click "Upload" to submit it
- âœ… I see a job ID displayed
- âœ… I see upload progress

---

## **US-2: Monitor Video Processing Status**
**As a user**  
I want to see the status of my video processing job  
So that I know when it's complete.

**Acceptance Criteria:**
- âœ… I see current status (pending/running/completed)
- âœ… I see progress percentage
- âœ… Status updates automatically
- âœ… I know when processing is done

---

## **US-3: View Video Processing Results**
**As a user**  
I want to see the results of my video processing  
So that I can use the detected objects and text.

**Acceptance Criteria:**
- âœ… I see YOLO detections
- âœ… I see OCR text
- âœ… I see frame-by-frame data
- âœ… Results are easy to read

---

## **US-4: Handle Upload Errors**
**As a user**  
I want to see clear error messages if upload fails  
So that I know what went wrong.

**Acceptance Criteria:**
- âœ… Invalid file format shows error
- âœ… Upload failure shows error
- âœ… Processing failure shows error
- âœ… Errors are clear and actionable

---

## **US-5: Continue Using Existing Features**
**As a user**  
I want all existing features to still work  
So that I can continue using image upload and plugin selection.

**Acceptance Criteria:**
- âœ… Image upload still works
- âœ… Plugin selector still works
- âœ… Tool selector still works
- âœ… No features are removed

---

# ğŸ› ï¸ 6. DEVELOPMENT PLAN â€” v0.9.0

## **Guiding Principles**
1. **One component per commit**
2. **Every commit is testable**
3. **Every commit is reviewable**
4. **No breaking changes**
5. **No regressions**

---

## **Commit 1: Create VideoUpload Component Skeleton**
**What:** Create basic VideoUpload component structure.  
**Why:** Foundation for video upload UI.

**Files Added:**
- `/web-ui/components/VideoUpload.tsx`
- `/web-ui/components/VideoUpload.module.css`

**Files Changed:**
- `/web-ui/pages/index.tsx` (import component, don't render yet)

**Tests:**
- âœ… Component renders
- âœ… No errors in console
- âœ… Existing tests still pass

**Acceptance Criteria:**
- âœ… Component exists
- âœ… Component is importable
- âœ… No regressions

---

## **Commit 2: Add File Upload Form**
**What:** Add file input and upload button.  
**Why:** User needs to select video file.

**Files Changed:**
- `/web-ui/components/VideoUpload.tsx`

**Tests:**
- âœ… File input renders
- âœ… Upload button renders
- âœ… Button is disabled when no file selected
- âœ… Button is enabled when file selected

**Acceptance Criteria:**
- âœ… User can select file
- âœ… User can click upload button
- âœ… Form validates file format

---

## **Commit 3: Add Client-Side File Validation**
**What:** Validate MP4 format before upload.  
**Why:** Prevent invalid uploads.

**Files Changed:**
- `/web-ui/components/VideoUpload.tsx`

**Tests:**
- âœ… MP4 files are accepted
- âœ… Non-MP4 files show error
- âœ… Error message is displayed
- âœ… Upload button is disabled for invalid files

**Acceptance Criteria:**
- âœ… Only MP4 files can be uploaded
- âœ… Clear error message for invalid files

---

## **Commit 4: Implement Video Upload API Call**
**What:** Wire upload button to `/v1/video/submit`.  
**Why:** Submit video to backend.

**Files Changed:**
- `/web-ui/components/VideoUpload.tsx`
- `/web-ui/services/api.ts` (add `submitVideo()` method)

**Tests:**
- âœ… Upload button calls API
- âœ… Multipart/form-data is sent correctly
- âœ… job_id is returned
- âœ… Error handling works

**Acceptance Criteria:**
- âœ… Video is uploaded to backend
- âœ… job_id is received
- âœ… Errors are handled

---

## **Commit 5: Display Job ID**
**What:** Show returned job_id in UI.  
**Why:** User needs to know job was submitted.

**Files Changed:**
- `/web-ui/components/VideoUpload.tsx`

**Tests:**
- âœ… job_id is displayed after upload
- âœ… job_id is copyable
- âœ… job_id format is validated

**Acceptance Criteria:**
- âœ… User sees job_id
- âœ… job_id is clearly labeled

---

## **Commit 6: Create JobStatus Component**
**What:** Create component to display job status.  
**Why:** User needs to see processing status.

**Files Added:**
- `/web-ui/components/JobStatus.tsx`
- `/web-ui/components/JobStatus.module.css`

**Files Changed:**
- `/web-ui/components/VideoUpload.tsx` (import JobStatus)

**Tests:**
- âœ… Component renders
- âœ… Component accepts job_id prop
- âœ… Component displays status

**Acceptance Criteria:**
- âœ… Component exists
- âœ… Component is wired to VideoUpload

---

## **Commit 7: Implement Status Polling**
**What:** Poll `/v1/video/status/{job_id}` every 2 seconds.  
**Why:** User needs live status updates.

**Files Changed:**
- `/web-ui/components/JobStatus.tsx`
- `/web-ui/services/api.ts` (add `getJobStatus()` method)

**Tests:**
- âœ… Polling starts when job_id is set
- âœ… Polling stops when job completes
- âœ… Polling stops when job fails
- âœ… Status is displayed
- âœ… Progress is displayed

**Acceptance Criteria:**
- âœ… Status updates every 2 seconds
- âœ… Polling stops on completion/failure
- âœ… Status is human-readable

---

## **Commit 8: Create JobResults Component**
**What:** Create component to display job results.  
**Why:** User needs to see processing results.

**Files Added:**
- `/web-ui/components/JobResults.tsx`
- `/web-ui/components/JobResults.module.css`

**Files Changed:**
- `/web-ui/components/JobStatus.tsx` (import JobResults)

**Tests:**
- âœ… Component renders
- âœ… Component accepts results prop
- âœ… Component displays detections
- âœ… Component displays OCR text

**Acceptance Criteria:**
- âœ… Component exists
- âœ… Component is wired to JobStatus

---

## **Commit 9: Fetch and Display Results**
**What:** Call `/v1/video/results/{job_id}` when job completes.  
**Why:** User needs to see final results.

**Files Changed:**
- `/web-ui/components/JobStatus.tsx`
- `/web-ui/services/api.ts` (add `getJobResults()` method)

**Tests:**
- âœ… Results are fetched on completion
- âœ… Results are passed to JobResults
- âœ… Results are displayed correctly
- âœ… Error handling works

**Acceptance Criteria:**
- âœ… Results load automatically
- âœ… Results are complete
- âœ… Results are readable

---

## **Commit 10: Add Upload Progress Indicator**
**What:** Show upload progress bar.  
**Why:** User needs feedback during upload.

**Files Changed:**
- `/web-ui/components/VideoUpload.tsx`

**Tests:**
- âœ… Progress bar appears during upload
- âœ… Progress percentage updates
- âœ… Progress bar disappears on completion

**Acceptance Criteria:**
- âœ… User sees upload progress
- âœ… Progress is accurate

---

## **Commit 11: Add Error Handling UI**
**What:** Display user-friendly error messages.  
**Why:** User needs to know what went wrong.

**Files Changed:**
- `/web-ui/components/VideoUpload.tsx`
- `/web-ui/components/JobStatus.tsx`

**Tests:**
- âœ… Upload errors are displayed
- âœ… Job errors are displayed
- âœ… Network errors are displayed
- âœ… Error messages are clear

**Acceptance Criteria:**
- âœ… All error cases are handled
- âœ… Errors are user-friendly

---

## **Commit 12: Wire VideoUpload to Main Page**
**What:** Add VideoUpload component to main UI.  
**Why:** Make feature accessible to users.

**Files Changed:**
- `/web-ui/pages/index.tsx`

**Tests:**
- âœ… VideoUpload renders on main page
- âœ… Existing components still render
- âœ… Layout is correct

**Acceptance Criteria:**
- âœ… Video upload is visible
- âœ… No layout issues
- âœ… No regressions

---

## **Commit 13: Add Integration Tests**
**What:** Add end-to-end tests for video upload flow.  
**Why:** Ensure complete functionality.

**Files Added:**
- `/web-ui/tests/integration/videoUpload.test.ts`

**Tests:**
- âœ… Upload â†’ job_id â†’ status â†’ results flow works
- âœ… Error cases are handled
- âœ… UI updates correctly

**Acceptance Criteria:**
- âœ… All integration tests pass
- âœ… Full flow is tested

---

## **Commit 14: Update Documentation**
**What:** Document video upload feature.  
**Why:** Users and developers need documentation.

**Files Changed:**
- `/docs/v0.9.0/video-upload.md`
- `/CHANGELOG.md`
- `/README.md`

**Tests:**
- âœ… Documentation is accurate
- âœ… Documentation is complete

**Acceptance Criteria:**
- âœ… Feature is documented
- âœ… CHANGELOG is updated

---

## **Commit 15: v0.9.0 Release**
**What:** Tag v0.9.0 release.  
**Why:** Official release.

**Files Changed:**
- Version bump
- Release notes

**Tests:**
- âœ… All tests pass
- âœ… All features work
- âœ… No regressions

**Acceptance Criteria:**
- âœ… v0.9.0 is ready for production

---

# ğŸ”„ 7. PULL REQUEST TEMPLATE â€” v0.9.0

```markdown
## PR Title
[v0.9.0 / Commit N] Brief description

## Feature
Video Upload to Web UI

## Commit Number
Commit N of 15

## Description
What does this PR do?

## Why
Why is this change necessary?

## Files Changed
- `/path/to/file1.tsx`
- `/path/to/file2.ts`

## Tests Added/Modified
- âœ… Test 1 description
- âœ… Test 2 description

## Acceptance Criteria
- âœ… Criterion 1
- âœ… Criterion 2

## Regression Check
- âœ… Plugin selector still works
- âœ… Tool selector still works
- âœ… Image upload still works
- âœ… All Phase 15/16 tests pass

## Screenshots
[Add screenshots here]

## Related Issues
Part of v0.9.0 video upload feature

## Checklist
- [ ] Code follows project patterns
- [ ] Tests added/updated
- [ ] Documentation added/updated
- [ ] CHANGELOG updated (if final commit)
- [ ] No breaking changes
- [ ] All CI checks pass
- [ ] Ready for review
```

---

---

# ğŸ“¦ PART 2: v1.0.0 DOCUMENTATION

---

# ğŸ“‹ 1. OVERVIEW â€” v1.0.0

## **v1.0.0 â€” First Stable Release (MCP Integration + Stabilization)**

### **Purpose**
v1.0.0 is the **first stable, production-ready release** of the Vision Processing System. This release delivers **MCP (Model Context Protocol) integration** to enable Gemini-CLI extension support, plus **architectural stabilization** and **governance enforcement**.

### **What Came Before**

| Version | Name | Status | Summary |
|---------|------|--------|---------|
| v0.8.0 | Phase 15 | âœ… Stable | Synchronous batch video processing |
| v0.8.1 | Phase 16 | âœ… Stable | Async job system |
| v0.9.0 | Video Upload | âœ… Stable | Video upload to Web UI |

### **What v1.0.0 Delivers**

âœ… **MCP Server Implementation**
- MCP-compliant server
- Tool discovery endpoint
- Tool execution endpoint
- Schema definition endpoint

âœ… **Gemini-CLI Extension**
- MCP client for Gemini CLI
- Tool discovery
- Image analysis via Gemini
- Video processing via Gemini
- Full integration with backend

âœ… **Architecture Stabilization**
- Plugin architecture cleanup
- Pipeline registry cleanup
- Folder structure normalization
- Code pattern enforcement

âœ… **Governance Enforcement**
- Naming convention validation
- Folder structure validation
- Forbidden vocabulary prevention
- Contributor guidelines

âœ… **Documentation**
- Complete API documentation
- Complete MCP documentation
- Complete governance documentation
- Migration guides

### **What v1.0.0 Does NOT Change**
- âœ… Phase 15 video pipeline unchanged
- âœ… Phase 16 async job system unchanged
- âœ… v0.9.0 video upload unchanged
- âœ… Image analysis unchanged
- âœ… Web UI unchanged (except minor fixes)

### **Key Principle**
> **v1.0.0 = MCP + Stabilization. Production Ready.**

---

# ğŸ—ï¸ 2. HIGH-LEVEL DESIGN (HLD) â€” v1.0.0

## **System Architecture (v1.0.0)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CLIENT LAYER                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Web UI (v0.9.0)              Gemini-CLI (NEW)               â”‚
â”‚  - Plugin Selector            - MCP Client                   â”‚
â”‚  - Tool Selector              - Tool Discovery               â”‚
â”‚  - Image Upload               - Image Analysis               â”‚
â”‚  - Video Upload               - Video Processing             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       API LAYER                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  REST API (Existing)          MCP API (NEW)                  â”‚
â”‚  - /v1/image/analyze          - /mcp/tools                   â”‚
â”‚  - /v1/video/submit           - /mcp/schema                  â”‚
â”‚  - /v1/video/status           - /mcp/execute/{tool}          â”‚
â”‚  - /v1/video/results                                         â”‚
â”‚  - /v1/plugins                                               â”‚
â”‚  - /v1/pipelines                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BUSINESS LOGIC LAYER                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MCP Server (NEW)             Pipeline Registry (CLEANED)    â”‚
â”‚  - Tool Registry              - Phase 15 Video               â”‚
â”‚  - Schema Generator           - Image Pipelines              â”‚
â”‚  - Tool Executor              - Tool Mapping                 â”‚
â”‚                                                               â”‚
â”‚  Plugin Manager (CLEANED)     Job Manager (Existing)         â”‚
â”‚  - Plugin Discovery           - Job Creation                 â”‚
â”‚  - Manifest Validation        - Status Tracking              â”‚
â”‚  - Type Validation            - Result Storage               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   EXECUTION LAYER (Unchanged)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Worker Process               VideoFilePipelineService       â”‚
â”‚  - Dequeue Jobs               - Frame Extraction             â”‚
â”‚  - Execute Pipelines          - YOLO Detection               â”‚
â”‚  - Save Results               - OCR Processing               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                PERSISTENCE LAYER (Unchanged)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Database                     Object Storage                 â”‚
â”‚  Queue                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## **New Components in v1.0.0**

### **1. MCP Server**
- **Location:** `/mcp/server.py`
- **Responsibilities:**
  - Serve MCP schema
  - Serve tool list
  - Execute tools
  - Map tools to pipelines
  - Map tools to plugins

### **2. Tool Registry**
- **Location:** `/mcp/tool_registry.py`
- **Responsibilities:**
  - Discover available tools
  - Validate tool definitions
  - Map tools to backend pipelines

### **3. Schema Generator**
- **Location:** `/mcp/schema_generator.py`
- **Responsibilities:**
  - Generate MCP schema from tool definitions
  - Validate schema
  - Serve schema via `/mcp/schema`

### **4. Tool Executor**
- **Location:** `/mcp/executor.py`
- **Responsibilities:**
  - Execute tools via plugins
  - Execute tools via pipelines
  - Handle tool parameters
  - Return tool results

### **5. Gemini-CLI MCP Extension**
- **Location:** `/gemini-cli-extension/`
- **Responsibilities:**
  - MCP client implementation
  - Connect to MCP server
  - Discover tools
  - Execute tools from Gemini CLI
  - Display results in Gemini

## **MCP Data Flow**

```
Gemini CLI
  â†’ Gemini-CLI MCP Extension (MCP Client)
    â†’ GET /mcp/tools
      â†’ Tool Registry
        â†’ Returns: [
            { name: "analyze_image", description: "...", parameters: {...} },
            { name: "process_video", description: "...", parameters: {...} }
          ]
    â†’ User selects "analyze_image"
    â†’ POST /mcp/execute/analyze_image
        Body: { image_base64: "...", pipeline_id: "yolo_ocr" }
      â†’ Tool Executor
        â†’ Load pipeline "yolo_ocr"
        â†’ Execute via Plugin Manager
        â†’ Return results
      â†’ Gemini-CLI displays results
```

---

# ğŸ“ 3. FUNCTIONAL REQUIREMENTS â€” v1.0.0

## **FR-1: MCP Server Must Serve Tools**
**Description:** MCP server must expose available tools via `/mcp/tools`.

**Acceptance Criteria:**
- âœ… `/mcp/tools` returns valid tool list
- âœ… Each tool includes name, description, parameters
- âœ… Tool list is discoverable by MCP clients

---

## **FR-2: MCP Server Must Serve Schema**
**Description:** MCP server must expose MCP schema via `/mcp/schema`.

**Acceptance Criteria:**
- âœ… `/mcp/schema` returns valid JSON schema
- âœ… Schema describes all tools
- âœ… Schema validates against MCP spec

---

## **FR-3: MCP Server Must Execute Tools**
**Description:** MCP server must execute tools via `/mcp/execute/{tool}`.

**Acceptance Criteria:**
- âœ… Tool execution works for image analysis
- âœ… Tool execution works for video processing
- âœ… Tool parameters are validated
- âœ… Tool results are returned

---

## **FR-4: Gemini-CLI Extension Must Connect**
**Description:** Gemini-CLI extension must connect to MCP server.

**Acceptance Criteria:**
- âœ… Extension discovers MCP server
- âœ… Extension fetches tool list
- âœ… Extension fetches schema
- âœ… Extension is ready to execute tools

---

## **FR-5: Gemini-CLI Extension Must Execute Tools**
**Description:** Gemini-CLI extension must execute tools from Gemini.

**Acceptance Criteria:**
- âœ… User can analyze images from Gemini
- âœ… User can process videos from Gemini
- âœ… Results are displayed in Gemini
- âœ… Errors are displayed in Gemini

---

## **FR-6: Plugin Architecture Must Be Consistent**
**Description:** All plugins must follow same structure.

**Acceptance Criteria:**
- âœ… All manifests are valid
- âœ… All plugin types are correct
- âœ… All tool definitions are correct
- âœ… All run() signatures are consistent

---

## **FR-7: Pipeline Registry Must Be Clean**
**Description:** Pipeline registry must be rebuilt and validated.

**Acceptance Criteria:**
- âœ… All pipelines load correctly
- âœ… All pipeline configs are valid
- âœ… Tools map correctly to pipelines

---

## **FR-8: Governance Rules Must Be Enforced**
**Description:** CI must validate governance rules.

**Acceptance Criteria:**
- âœ… Folder structure is validated
- âœ… Naming conventions are validated
- âœ… Forbidden vocabulary is prevented
- âœ… All PRs pass governance checks

---

# ğŸ“ 4. NON-FUNCTIONAL REQUIREMENTS â€” v1.0.0

## **NFR-1: Backward Compatibility**
**Description:** v1.0.0 must not break existing functionality.

**Acceptance Criteria:**
- âœ… All Phase 15 tests pass
- âœ… All Phase 16 tests pass
- âœ… All v0.9.0 tests pass
- âœ… Web UI still works
- âœ… REST API still works

---

## **NFR-2: MCP Compliance**
**Description:** MCP implementation must follow MCP spec.

**Acceptance Criteria:**
- âœ… Schema is MCP-compliant
- âœ… Tool definitions are MCP-compliant
- âœ… Tool execution is MCP-compliant

---

## **NFR-3: Performance**
**Description:** v1.0.0 must not degrade performance.

**Acceptance Criteria:**
- âœ… Image analysis latency unchanged
- âœ… Video processing latency unchanged
- âœ… MCP tool execution is fast (<1s overhead)

---

## **NFR-4: Code Quality**
**Description:** Codebase must be clean and maintainable.

**Acceptance Criteria:**
- âœ… No dead code
- âœ… No duplicate code
- âœ… Consistent naming
- âœ… Consistent structure

---

## **NFR-5: Documentation**
**Description:** All features must be documented.

**Acceptance Criteria:**
- âœ… MCP API documented
- âœ… Tool definitions documented
- âœ… Gemini-CLI usage documented
- âœ… Governance rules documented

---

## **NFR-6: Test Coverage**
**Description:** All new functionality must be tested.

**Acceptance Criteria:**
- âœ… MCP server has unit tests
- âœ… MCP server has integration tests
- âœ… Gemini-CLI has integration tests
- âœ… Governance has validation tests

---

# ğŸ‘¤ 5. USER STORIES â€” v1.0.0

## **US-1: Analyze Images via Gemini**
**As a user**  
I want to analyze images using Gemini CLI  
So that I can get YOLO + OCR results without leaving Gemini.

**Acceptance Criteria:**
- âœ… I can use Gemini to analyze images
- âœ… I receive YOLO detections
- âœ… I receive OCR text
- âœ… Results appear in Gemini

---

## **US-2: Process Videos via Gemini**
**As a user**  
I want to process videos using Gemini CLI  
So that I can get video analysis results without leaving Gemini.

**Acceptance Criteria:**
- âœ… I can submit videos via Gemini
- âœ… I receive job_id
- âœ… I can check status via Gemini
- âœ… I receive results via Gemini

---

## **US-3: Discover Available Tools**
**As a developer**  
I want to discover available MCP tools  
So that I know what the system can do.

**Acceptance Criteria:**
- âœ… I can call `/mcp/tools`
- âœ… I receive tool list
- âœ… Each tool has clear description
- âœ… Each tool has parameter schema

---

## **US-4: Consistent Plugin Architecture**
**As a developer**  
I want all plugins to follow the same structure  
So that I can maintain and extend them easily.

**Acceptance Criteria:**
- âœ… All plugins have valid manifests
- âœ… All plugins follow naming conventions
- âœ… All plugins implement correct signatures

---

## **US-5: Enforce Governance Rules**
**As a maintainer**  
I want CI to enforce governance rules  
So that code quality remains high.

**Acceptance Criteria:**
- âœ… CI validates folder structure
- âœ… CI validates naming conventions
- âœ… CI prevents forbidden vocabulary
- âœ… PRs cannot merge if governance fails

---

# ğŸ› ï¸ 6. DEVELOPMENT PLAN â€” v1.0.0

## **Epic 1: MCP Server Implementation (8 commits)**

### **Commit 1: Create MCP Server Skeleton**
**Files Added:**
- `/mcp/server.py`
- `/mcp/__init__.py`

**Tests:**
- âœ… Server starts
- âœ… Server responds to `/mcp/health`

---

### **Commit 2: Implement Tool Registry**
**Files Added:**
- `/mcp/tool_registry.py`

**Tests:**
- âœ… Tool registry discovers tools
- âœ… Tool registry validates tool definitions

---

### **Commit 3: Implement Schema Generator**
**Files Added:**
- `/mcp/schema_generator.py`

**Tests:**
- âœ… Schema is generated correctly
- âœ… Schema is MCP-compliant

---

### **Commit 4: Implement /mcp/tools Endpoint**
**Files Changed:**
- `/mcp/server.py`

**Tests:**
- âœ… Endpoint returns tool list
- âœ… Tool list is correct

---

### **Commit 5: Implement /mcp/schema Endpoint**
**Files Changed:**
- `/mcp/server.py`

**Tests:**
- âœ… Endpoint returns schema
- âœ… Schema is valid

---

### **Commit 6: Implement Tool Executor**
**Files Added:**
- `/mcp/executor.py`

**Tests:**
- âœ… Executor runs tools
- âœ… Executor validates parameters
- âœ… Executor returns results

---

### **Commit 7: Implement /mcp/execute/{tool} Endpoint**
**Files Changed:**
- `/mcp/server.py`

**Tests:**
- âœ… Endpoint executes tools
- âœ… Image analysis works
- âœ… Video processing works

---

### **Commit 8: Add MCP Integration Tests**
**Files Added:**
- `/tests/mcp/test_server.py`
- `/tests/mcp/test_tools.py`

**Tests:**
- âœ… Full MCP flow works
- âœ… All tools work

---

## **Epic 2: Gemini-CLI Extension (5 commits)**

### **Commit 9: Create Extension Skeleton**
**Files Added:**
- `/gemini-cli-extension/mcp_client.py`
- `/gemini-cli-extension/__init__.py`

**Tests:**
- âœ… Extension initializes

---

### **Commit 10: Implement MCP Client**
**Files Changed:**
- `/gemini-cli-extension/mcp_client.py`

**Tests:**
- âœ… Client connects to server
- âœ… Client fetches tools
- âœ… Client fetches schema

---

### **Commit 11: Implement Tool Discovery**
**Files Changed:**
- `/gemini-cli-extension/mcp_client.py`

**Tests:**
- âœ… Extension discovers tools
- âœ… Tools are listed correctly

---

### **Commit 12: Implement Tool Execution**
**Files Changed:**
- `/gemini-cli-extension/mcp_client.py`

**Tests:**
- âœ… Extension executes tools
- âœ… Image analysis works
- âœ… Video processing works

---

### **Commit 13: Add Extension Integration Tests**
**Files Added:**
- `/gemini-cli-extension/tests/test_integration.py`

**Tests:**
- âœ… Full Gemini â†’ MCP â†’ Backend flow works

---

## **Epic 3: Architecture Cleanup (6 commits)**

### **Commit 14: Fix Plugin Manifests**
**Files Changed:**
- All `/plugins/*/manifest.yaml`

**Tests:**
- âœ… All manifests validate

---

### **Commit 15: Fix Plugin Types**
**Files Changed:**
- All `/plugins/*/manifest.yaml`

**Tests:**
- âœ… All plugin types are correct

---

### **Commit 16: Fix Tool Definitions**
**Files Changed:**
- All `/plugins/*/manifest.yaml`

**Tests:**
- âœ… All tool definitions are correct

---

### **Commit 17: Fix Plugin run() Signatures**
**Files Changed:**
- All `/plugins/*/__init__.py`

**Tests:**
- âœ… All signatures are consistent

---

### **Commit 18: Rebuild Pipeline Registry**
**Files Changed:**
- `/core/pipeline_registry.py`
- Pipeline configs

**Tests:**
- âœ… All pipelines load correctly

---

### **Commit 19: Normalize Folder Structure**
**Files Changed:**
- Move files to correct locations

**Tests:**
- âœ… All imports work
- âœ… All tests pass

---

## **Epic 4: Governance (4 commits)**

### **Commit 20: Add Folder Structure Validator**
**Files Added:**
- `/governance/validate_structure.py`
- `.github/workflows/governance.yml`

**Tests:**
- âœ… Validator works in CI

---

### **Commit 21: Add Naming Convention Validator**
**Files Added:**
- `/governance/validate_naming.py`

**Tests:**
- âœ… Validator works in CI

---

### **Commit 22: Add Forbidden Vocabulary Validator**
**Files Added:**
- `/governance/validate_vocabulary.py`

**Tests:**
- âœ… Validator works in CI

---

### **Commit 23: Add Contributor Guidelines**
**Files Added:**
- `/CONTRIBUTING.md`
- `/GOVERNANCE.md`

**Tests:**
- âœ… Documentation is clear

---

## **Epic 5: Documentation (2 commits)**

### **Commit 24: Add MCP Documentation**
**Files Added:**
- `/docs/mcp/api.md`
- `/docs/mcp/tools.md`
- `/docs/mcp/gemini-cli.md`

**Tests:**
- âœ… Documentation is complete

---

### **Commit 25: Update CHANGELOG and Release**
**Files Changed:**
- `/CHANGELOG.md`
- Version bump

**Tests:**
- âœ… All tests pass
- âœ… All features work
- âœ… Ready for v1.0.0 release

---

# ğŸ”„ 7. PULL REQUEST TEMPLATE â€” v1.0.0

```markdown
## PR Title
[v1.0.0 / Epic N / Commit M] Brief description

## Epic
Epic N: Epic Name

## Commit Number
Commit M of 25

## Description
What does this PR do?

## Why
Why is this change necessary?

## Files Changed
- `/path/to/file1.py`
- `/path/to/file2.ts`

## Tests Added/Modified
- âœ… Test 1 description
- âœ… Test 2 description

## Acceptance Criteria
- âœ… Criterion 1
- âœ… Criterion 2

## Backward Compatibility Check
- âœ… Phase 15 tests pass
- âœ… Phase 16 tests pass
- âœ… v0.9.0 tests pass
- âœ… Web UI works
- âœ… REST API works

## Governance Check
- âœ… Folder structure valid
- âœ… Naming conventions followed
- âœ… No forbidden vocabulary

## Related Issues
Part of v1.0.0 MCP integration

## Checklist
- [ ] Code follows project patterns
- [ ] Tests added/updated
- [ ] Documentation added/updated
- [ ] CHANGELOG updated (if final commit)
- [ ] No breaking changes
- [ ] All CI checks pass
- [ ] Ready for review
```

---

# âœ… FINAL SUMMARY

## **v0.9.0 Deliverables**
- âœ… Video upload to Web UI
- âœ… Job status tracking
- âœ… Job results display
- âœ… Full integration with Phase 16 async system
- âœ… 15 atomic commits
- âœ… Zero regressions

## **v1.0.0 Deliverables**
- âœ… MCP server
- âœ… MCP schema
- âœ… Tool registry
- âœ… Tool executor
- âœ… Gemini-CLI MCP extension
- âœ… Plugin architecture cleanup
- âœ… Pipeline registry cleanup
- âœ… Governance enforcement
- âœ… Complete documentation
- âœ… 25 atomic commits
- âœ… Production ready

---

**Roger, this is the complete, production-ready documentation for both v0.9.0 and v1.0.0. Everything is grounded in reality, fully detailed, and ready to implement.**